<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تسجيل الدخول</title>
<style>
body {font-family: Arial; background:#eef2f3; display:flex; justify-content:center; align-items:center; height:100vh;}
.card {background:white; padding:30px; width:350px; border-radius:12px; box-shadow:0 0 10px #bbb; text-align:center;}
input,button {width:100%; padding:12px; margin-top:10px; font-size:16px; border-radius:6px;}
button {background:#0077cc; color:white; border:none;}
</style>
</head>
<body>
<div class="card">
<h2>تسجيل الدخول</h2>
<input id="username" placeholder="اسم المستخدم">
<input id="password" placeholder="كلمة المرور" type="password">
<button onclick="login()">دخول</button>
<div id="msg" style="color:red;margin-top:10px;"></div>
</div>

<script>
async function login(){
    let username = document.getElementById("username").value;
    let password = document.getElementById("password").value;

    let res = await fetch("/login_check", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({username, password})
    });

    let data = await res.json();
    if(data.status === "ok"){
        window.location.href = "/request";
    } else {
        document.getElementById("msg").innerText = "خطأ في تسجيل الدخول";
    }
}
</script>

</body>
</html>